function selectorClicked(t){$(".activelabel").removeClass("activelabel"),$("."+$.trim(t)).parent().children().addClass("activelabel"),"radio1"==t&&($('input[name="eq"]').css("display","inline-block"),$('input[name="nq"]').css("display","none"),$(".input-container").css("display","none"),$(".serialtip-btn").attr("data-active-tab","radio1")),"radio2"==t&&($(".serialtip-btn").attr("data-active-tab","radio2"),$('input[name="nq"]').css("display","inline-block"),$('input[name="eq"]').css("display","none"),$(".input-container").css("display","none")),"radio3"==t&&($(".serialtip-btn").attr("data-active-tab","radio3"),$('input[name="eq"]').css("display","none"),$('input[name="nq"]').css("display","none"),$(".input-container").css("display","flex").children().attr("data-active-tab","radio3")),"radio4"==t&&($(".serialtip-btn").attr("data-active-tab","radio4"),$('input[name="eq"]').css("display","none"),$('input[name="nq"]').css("display","none"),$(".input-container").css("display","flex").children().attr("data-active-tab","radio4"))}function selectorSubmited(t){let e=$(".btn-submit-"+t).attr("data-active-tab"),i=$(".btn-submit-"+t).attr("data-active-input"),a=$('input[data-active-tab="'+e+'"][data-active-input="'+i+'"]').val();if(a=a.replaceAll(",",""),"radio1"==e||"radio2"==e){if(""==a){$(".serialtip-close").trigger("click");return}"radio1"==e&&$('input[name="'+i+'"]').closest("th").find("input.operatorValue").val("e"),"radio2"==e&&$('input[name="'+i+'"]').closest("th").find("input.operatorValue").val("n"),$('input[name="'+i+'"]').val(a)}else if("radio3"==e||"radio4"==e){a=$('input[data-active-tab="'+e+'"][data-active-input="'+i+'"][name="fbt"]').val();let l=$('input[data-active-tab="'+e+'"][data-active-input="'+i+'"][name="tbt"]').val();if(a=a.replaceAll(",",""),l=l.replaceAll(",",""),""==a&&""!=l&&(a=l),""==l&&""!=a&&(l=a),a>l){let n=a;a=l,l=n}if(""==a&&""==l){$(".serialtip-close").trigger("click");return}"radio3"==e&&$('input[name="'+i+'"]').closest("th").find("input.operatorValue").val("bw"),"radio4"==e&&$('input[name="'+i+'"]').closest("th").find("input.operatorValue").val("notequal"),$('input[data-active-tab="'+e+'"][data-active-input="'+i+'"][name="tbt"]').val(""),$('input[name="'+i+'"]').val(a+","+l)}$('input[data-active-tab="'+e+'"][data-active-input="'+i+'"]').val(""),closeSerialtip()}function closeSerialtip(){$(".serialtip-close").trigger("click")}function commafy(t){var e=t.toString().split(".");return e[0].length>=3&&(e[0]=e[0].replaceAll(/(\d)(?=(\d{3})+$)/g,"$1,")),e[1]&&e[1].length>=3&&(e[1]=e[1].replaceAll(/(\d{3})/g,"$1 ")),e.join(".")}!function(t){"use strict";let e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchstart.serialtip":"click.serialtip",i="mouseenter.serialtip",a="mouseleave.serialtip",l="resize.serialtip",n=t(window),s=t("html"),o=!1,r,c,d,p='<div data-serialtip-target="INPUTNAME" class="serialtip-default" >\n<div class="serialtip-options-container"><div class="serialtip-container">\n    <div class="selector">\n        <div class="selector-item" onclick="selectorClicked(\'radio1\')">\n            <input type="radio" id="radio1" name="selector" class="selector-item_radio radio1" >\n            <label for="radio1" class="selector-item_label"> '+app.vtranslate("Equal fixed value")+' </label>\n        </div>\n        <div class="selector-item" onclick="selectorClicked(\'radio2\')">\n            <input type="radio" id="radio2" name="selector" class="selector-item_radio radio2">\n            <label for="radio2" class="selector-item_label"> '+app.vtranslate("Not equal fixed value")+'</label>\n        </div>\n        <div class="selector-item"  onclick="selectorClicked(\'radio3\')">\n            <input type="radio" id="radio3" name="selector" class="selector-item_radio radio3">\n            <label for="radio3" class="selector-item_label"> '+app.vtranslate("Between")+'</label>\n        </div>\n      <div class="selector-item" onclick="selectorClicked(\'radio4\')">\n            <input type="radio" id="radio4" name="selector" class="selector-item_radio radio4">\n            <label for="radio4" class="selector-item_label"> '+app.vtranslate("Not between")+'</label>\n        </div>\n    </div>\n</div><input data-active-input="INPUTNAME" data-active-tab="radio1"  name="eq" value="START" min="0"  class="serialtip-input d-none text1"/><input data-active-input="INPUTNAME" data-active-tab="radio2"   name="nq" value="START" min="0"  class="serialtip-input d-none text1"/><div class="input-container d-none"><input data-active-input="INPUTNAME" data-active-tab="radio3"  name="fbt" placeholder="'+app.vtranslate("From")+'" min="0" value="START"  class="serialtip-input text1"/><input data-active-input="INPUTNAME" data-active-tab="radio3"   name="tbt" placeholder="'+app.vtranslate("To")+'" value="END" class="serialtip-input text1"/></div><div style="text-align: center"><span class="serialtip-close" style="opacity: 0; width: 0; height: 0"></span><button class="btn btn-danger btn-sm serialtip-btn"  onclick="return closeSerialtip();">'+app.vtranslate("Close")+'</button>&nbsp;<button  data-active-input="INPUTNAME"  onclick="selectorSubmited(\'INPUTNAME\')" class="btn btn-success btn-sm serialtip-btn btn-submit-INPUTNAME">'+app.vtranslate("Ok")+"</button></div></div>",u='<div class="serialtip-options-container"><div class="serialtip-container">\n    <div class="selector">\n        <div class="selector-item" onclick="selectorClicked(\'radio1\')">\n            <input type="radio" id="radio1" name="selector" class="selector-item_radio radio1" >\n            <label for="radio1" class="selector-item_label"> '+app.vtranslate("Equal fixed value")+' </label>\n        </div>\n        <div class="selector-item" onclick="selectorClicked(\'radio2\')">\n            <input type="radio" id="radio2" name="selector" class="selector-item_radio radio2">\n            <label for="radio2" class="selector-item_label"> '+app.vtranslate("Not equal fixed value")+'</label>\n        </div>\n        <div class="selector-item"  onclick="selectorClicked(\'radio3\')">\n            <input type="radio" id="radio3" name="selector" class="selector-item_radio radio3">\n            <label for="radio3" class="selector-item_label"> '+app.vtranslate("Between")+'</label>\n        </div>\n      <div class="selector-item" onclick="selectorClicked(\'radio4\')">\n            <input type="radio" id="radio4" name="selector" class="selector-item_radio radio4">\n            <label for="radio4" class="selector-item_label"> '+app.vtranslate("Not between")+'</label>\n        </div>\n    </div>\n</div><input data-active-input="INPUTNAME" data-active-tab="radio1" name="eq" value="START" min="0"  class="serialtip-input d-none text1"/><input data-active-input="INPUTNAME" data-active-tab="radio2"   name="nq" value="START" min="0"  class="serialtip-input d-none text1"/><div class="input-container d-none"><input data-active-input="INPUTNAME" data-active-tab="radio3"  name="fbt" placeholder="'+app.vtranslate("From")+'" min="0" value="START"  class="serialtip-input text1"/><input data-active-input="INPUTNAME" data-active-tab="radio3"   name="tbt" placeholder="'+app.vtranslate("To")+'" value="END" class="serialtip-input text1"/></div><div style="text-align: center"><span class="serialtip-close" style="opacity: 0; width: 0; height: 0"></span><button class="btn btn-danger btn-sm serialtip-btn" onclick="return closeSerialtip();">'+app.vtranslate("Close")+'</button>&nbsp;<button  data-active-input="INPUTNAME"  onclick="selectorSubmited(\'INPUTNAME\')" class="btn btn-success btn-sm serialtip-btn btn-submit-INPUTNAME">'+app.vtranslate("Ok")+"</button></div>";t.fn.serialtip=function(p){let v=t.extend({},t.fn.serialtip.defaults,p),b=this;return t.extend(this,{IsDecimal:function(t){return!!(t.toString().split(".").length<=2&&t.toString().match(/^[\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?$/))&&!isNaN(Number.parseFloat(t))},IsInteger:function(t){return!!(1==t.toString().split(".").length&&t.toString().match(/^[\-]?\d+$/))&&!isNaN(Number.parseInt(t))},onload:function(){r=t('<div id="serialtip" />').appendTo("body"),o=!0},init:function(){!1==o&&this.onload(),this.each(function(){let l=t(this),n=v.getTarget(l);n.appendTo(r).data("serialtip",l),"click"==v.event?l.off(e).on(e,function(){let t=b.getAction(l);return b[t?"open":"close"](n),!1}):"hover"==v.event&&(l.off(i).on(i,function(){clearTimeout(d),b.open(n)}),n.off(i).on(i,function(){clearTimeout(d)}),l.add(n).off(a).on(a,function(){d=setTimeout(function(){b.close()},v.delay)}))}),t("."+v.closeClass).off(e).on(e,function(){b.close()}),"click"==v.event&&(s.off(e).on(e,function(t){c&&"serialtip"!=t.target.id&&!r.find(t.target).length&&b.close()}),n.off(l).on(l,function(){c&&setTimeout(function(){b.setPosition(c)},500)}))},getAction:function(t){return!t.hasClass(v.activeClass)},getPosition:function(t,e){let i=t.data("serialtip-position")||v.position;return{placement:"string"==typeof i&&i.split(" ")[0]||"bottom",alignment:"string"==typeof i&&i.split(" ")[1]||"center"}},getOffset:function(t){let e=t.getBoundingClientRect(),i=n.scrollTop(),a={top:e.top+i,right:e.right,bottom:e.bottom+i,left:e.left};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},setCurrent:function(t,e){t[e?"addClass":"removeClass"](v.activeClass)},setPosition:function(t){let e=t.data("serialtip"),i=b.getOffset(e[0]),a=b.getPosition(e,i),l={top:"auto",right:"auto",bottom:"auto",left:"auto"};var s=e.val(),o="",r="";if(""!=s){if(console.dir(s.includes(",")),s.includes(",")){var c=s.split(",");o=void 0===c[0]&&(this.IsDecimal(c[0])||this.IsInteger(c[0]))?0:c[0],r=void 0===c[1]&&(this.IsDecimal(c[1])||this.IsInteger(c[1]))?"":c[1]}else o=void 0===s&&(this.IsDecimal(s)||this.IsInteger(s))?0:s,r=void 0===s&&(this.IsDecimal(s)||this.IsInteger(s))?0:s}var d=u;d=(d=(d=d.replaceAll("START",o)).replaceAll("END",r)).replaceAll("INPUTNAME",e.attr("name")),t.html(d);let p="is-placement-"+a.placement+" is-alignment-"+a.alignment;switch(t.data("serialtip-class",p).addClass(p),a.placement){case"top":l.bottom=n.height()-i.top;break;case"right":l.left=i.right;break;case"bottom":l.top=i.bottom;break;case"left":l.right=n.width()-i.left}switch(a.alignment){case"top":l.bottom=n.height()-i.bottom;break;case"right":l.right=n.width()-i.left-i.width;break;case"bottom":l.top=i.top;break;case"left":l.left=i.left;break;case"center":"top"==a.placement||"bottom"==a.placement?l.left=i.left-(t.outerWidth(!0)-i.width)/2:l.top=i.top-(t.outerHeight(!0)-i.height)/2}for(var v in l)l[v]<0&&(l[v]=0);t.css(l)},open:function(t){if(c&&!c.is(t)&&b.close(),t.is(":visible"))return;this.setPosition(t),t.stop(!1,!0).fadeIn();let e=t.data("serialtip");this.setCurrent(e,!0);let i=e.closest("th").find("input.operatorValue").val();switch(i){case"e":default:selectorClicked("radio1");break;case"n":selectorClicked("radio2");break;case"bw":selectorClicked("radio3");break;case"notequal":selectorClicked("radio4")}c=t},close:function(){let t=c;if(!t)return;let e=t.data("serialtip");t.stop(!1,!0).fadeOut(function(){let e=t.data("serialtip-class");t.removeClass(e)}),this.setCurrent(e,!1),c=!1}}),this.init(),this},t.fn.serialtip.defaults={delay:300,event:"click",position:"bottom center",closeClass:"serialtip-close",activeClass:"is-active",getTarget:function(e){var i=e.val(),a="",l="";if(""!=i){if(console.dir(i.includes(",")),i.includes(",")){var n=i.split(",");a=void 0===n[0]&&(this.IsDecimal(n[0])||this.IsInteger(n[0]))?0:n[0],l=void 0===n[1]&&(this.IsDecimal(n[1])||this.IsInteger(n[1]))?"":n[1]}else a=void 0===i&&(this.IsDecimal(i)||this.IsInteger(i))?0:i,l=void 0===i&&(this.IsDecimal(i)||this.IsInteger(i))?0:i}var s=p;return t(s=(s=(s=s.replaceAll("START",a)).replaceAll("END",l)).replaceAll("INPUTNAME",e.attr("name")))}}}(jQuery),$(document).on("keyup",".serialtip-input",function(){value=(value=$(this).val()).replaceAll(",",""),$(this).val(commafy(value))});